## Лабораторная работа №5 — Шаблоны ООП и коллекции
Описание проекта

Проект представляет собой учебный набор задач на языке Java, направленных на закрепление навыков работы с:

интерфейсами и абстрактными классами;

структурными шаблонами (подсчёт мяуканий котов, работа со списками и очередями);

коллекциями (List, Set, Queue, Map) и их обработкой;

потоками (Stream) и функциональными операциями над объектами;

консольным вводом с полной проверкой корректности;

принципами ООП (инкапсуляция, композиция, наследование, кэширование).

Программа реализует многоуровневое меню, где пользователь может выбрать любое задание и протестировать его работу. Все классы организованы в отдельные .java файлы.
```java
Состав проекта (файлы)
Main.java — точка входа, демонстрация всех заданий с меню.
fraction/Fraction.java — класс Дробь с кэшированием вещественного значения.
fraction/RealValueMutable.java — интерфейс для работы с дробью (получение/установка значения).
cat/Cat.java — класс Кот с подсчётом мяуканий.
cat/Meowable.java — интерфейс для мяукающих объектов.
cat/MeowUtils.java — утилита для вызова мяуканья у множества объектов.
collections/CollectionUtils.java — утилита для работы со списками (удаление подряд идущих одинаковых элементов).
collections/QueueUtils.java — утилита для работы с очередями (поиск одинаковых подряд элементов).
sourcream/SourCreamMonitor.java — анализ цен на сметану по магазинам.
text/DigitFinder.java — поиск всех цифр в текстовом файле.
geometry/Point.java — точка на плоскости.
geometry/Line.java — линия между двумя точками.
geometry/Polyline.java — ломаная, построение из массива точек.
people/PeopleGrouper.java — группировка людей по номеру из файла.
```
## Блок 1 — Дроби (Fraction)

Задача: реализовать класс дроби с кэшированием вещественного значения и методами для работы с числителем и знаменателем.

Пример работы:

Введите числитель: 8
Введите знаменатель (≠ 0): 4
Дробь: 8/4
Вещественное значение: 2.0
Введите новый числитель: 3
Введите новый знаменатель (≠ 0): 2
Обновлённая дробь: 3/2
Новое вещественное значение: 1.5


Описание реализации:
```java
Класс Fraction:

Поля: int numerator, int denominator, Double cachedValue;

Конструктор с числителем и знаменателем, проверка на отрицательный знаменатель;

Методы getNumerator(), getDenominator(), setNumerator(int), setDenominator(int) с пересчётом кэша;

Метод double getRealValue() — возвращает кэшированное вещественное значение;

Переопределённый toString() — возвращает "числитель/знаменатель".

Интерфейс RealValueMutable:

double getRealValue();

void setNumerator(int numerator);

void setDenominator(int denominator).
```
## Блок 2 — Кот и количество мяуканий (Cat)

Задача: подсчёт количества мяуканий кота через интерфейс Meowable.

Пример работы:

Введите имя кота: Мурзик
Передаём кота в метод MeowUtils.makeAllMeow...
Мурзик: мяу!
Кот Мурзик мяукал 1 раз(а).


Описание реализации:
```java
Класс Cat:

Поля: String name, int meowCount;

Конструктор с именем кота;

Метод void meow() — вывод "Имя: мяу!" и увеличение счётчика;

toString() возвращает "кот: Имя";

Метод int getMeowCount() — возвращает количество мяуканий.

Интерфейс Meowable:

void meow().

Класс MeowUtils:

Метод static void makeAllMeow(Meowable... meowables) — вызывает meow() у каждого объекта.
```
## Блок 3 — Список (CollectionUtils)

Задача: удалить подряд идущие одинаковые элементы из списка.

Пример работы:

Введите элементы списка через пробел: 1 1 1 2 3 4 4 5 2 2
Результат: [1, 2, 3, 4, 5, 2]


Описание реализации:
```java
Класс CollectionUtils:

Метод static <T> List<T> removeConsecutiveDuplicates(List<T> list):

Проходит по списку;

Убирает подряд идущие одинаковые элементы;

Возвращает новый список.
```
## Блок 4 — Сметана (SourCreamMonitor)

Задача: определить количество магазинов с минимальной ценой для каждого вида сметаны.

Пример работы:

Введите путь к файлу с данными (например, data/sourcream.txt): data/sourcream.txt
Результат (количество магазинов с минимальными ценами): 2 1 1


Описание реализации:
```java
Класс SourCreamMonitor:

Метод Map<Integer, Integer> analyzeFile(File file):

Считывает данные вида <Фирма> <Улица> <Жирность> <Цена>;

Определяет минимальную цену для каждой жирности (15, 20, 25);

Считает, сколько магазинов продают сметану по минимальной цене;

Возвращает Map<Integer, Integer>.
```
## Блок 5 — Текст (DigitFinder)

Задача: найти все цифры, встречающиеся в текстовом файле.

Пример работы:

Введите путь к файлу с текстом (например, data/text.txt): data/text.txt
Цифры, встречающиеся в тексте: [0, 2, 3, 7, 9]


Описание реализации:
```java
Класс DigitFinder:

Метод Set<Integer> findDigits(File file):

Считывает текстовый файл;

Проверяет каждый символ, является ли он цифрой;

Добавляет уникальные цифры в Set<Integer>;
```
## Блок 6 — Очередь (QueueUtils)

Задача: проверить наличие одинаковых подряд элементов по кругу.

Примеры работы:

Введите элементы очереди через пробел: 1 2 2 3 4 5
Есть хотя бы одна пара одинаковых соседних элементов (по кругу).

Введите элементы очереди через пробел: 1 2 3 4 5 6
Нет одинаковых соседних элементов.


Описание реализации:
```java
Класс QueueUtils:

Метод static <T> boolean hasCircularEqualNeighbor(List<T> queue):

Проверяет наличие соседних одинаковых элементов;

Считается, что первый элемент соседствует с последним (круговая проверка);

Возвращает true или false.
```
## Блок 7.1 — Геометрия (Polyline)

Задача: построить ломаную линию из введённых точек.

Пример работы:

Введите точки (пример: 1 2, 3 -4, 5 6): 
1 2, 3 -4, 5 6
Ломаная: Линия [{1.0;2.0}, {3.0;4.0}, {5.0;6.0}]


Описание реализации:
```java
Класс Point:

Поля: double x, y;

Метод toString() — возвращает {x;y}.

Класс Line:

Поля: Point start, Point end;

Метод toString() — "Линия от {x1;y1} до {x2;y2}".

Класс Polyline:

Поле: массив Point[] points;

Метод fromPoints(List<Point> points) — создаёт ломаную из точек;

Метод toString() — "Линия [Т1, Т2, ..., TN]".
```
## Блок 7.2 — Люди (PeopleGrouper)

Задача: группировка людей по номеру из текстового файла.

Пример работы:

Введите путь к файлу с людьми (например, data/people.txt): data/people.txt
Результат группировки: {3=[Олег, Петя], 5=[Аня, Вася]}


Описание реализации:
```java
Класс PeopleGrouper:

Метод Map<Integer, List<String>> groupPeopleByNumber(File file):

Считывает строки вида Имя:Номер;

Игнорирует пустые номера;

Приводит имена к формату: первая буква заглавная, остальные — строчные;

Группирует имена по номеру в Map<Integer, List<String>>.
```
## Заключение

Программа демонстрирует:

использование интерфейсов и абстрактных классов;

работу с коллекциями и их функциональной обработкой;

применение ООП-принципов (инкапсуляция, композиция, кэширование);

безопасный пользовательский ввод и обработку ошибок;

многоуровневый дружественный интерфейс с меню для запуска всех заданий.

Автор: Белоногов Всеволод Алексеевич
Группа: ИТ-9
Год: 2025
